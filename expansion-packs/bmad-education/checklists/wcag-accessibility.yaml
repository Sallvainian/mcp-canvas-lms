name: WCAG 2.1 AA Accessibility Compliance Audit
description: Validates digital content accessibility using WCAG 2.1 Level AA standards
version: 1.0.0
theory_base: [wcag_2_1, section_508, ada_compliance, universal_design]

categories:
  - category: "Principle 1: Perceivable - Information must be presentable to users"
    criteria:
      - id: perc-text-alt-1
        item: "1.1.1 Non-text Content (A): Text alternatives for non-text content"
        required: true
        resources: [alt-text-guide.yaml]
        passing_score: 100

      - id: perc-media-alt-1
        item: "1.2.1 Audio-only/Video-only (A): Alternatives for time-based media"
        required: true
        resources: [media-alternatives.yaml]
        passing_score: 95

      - id: perc-captions-1
        item: "1.2.2 Captions (A): Captions for prerecorded audio/video"
        required: true
        resources: [caption-standards.yaml]
        passing_score: 100

      - id: perc-audio-desc-1
        item: "1.2.3 Audio Description (A): Audio description for prerecorded video"
        required: true
        resources: [audio-description.yaml]
        passing_score: 95

      - id: perc-live-captions-1
        item: "1.2.4 Captions (AA): Captions for live audio content"
        required: true
        resources: [live-captioning.yaml]
        passing_score: 95

      - id: perc-audio-desc-aa-1
        item: "1.2.5 Audio Description (AA): Audio description for prerecorded video"
        required: true
        resources: [audio-description.yaml]
        passing_score: 95

      - id: perc-adaptable-1
        item: "1.3.1 Info and Relationships (A): Structure programmatically determinable"
        required: true
        resources: [semantic-html.yaml]
        passing_score: 100

      - id: perc-sequence-1
        item: "1.3.2 Meaningful Sequence (A): Correct reading order"
        required: true
        resources: [reading-order.yaml]
        passing_score: 95

      - id: perc-sensory-1
        item: "1.3.3 Sensory Characteristics (A): Not solely shape/size/location/sound"
        required: true
        resources: [sensory-independence.yaml]
        passing_score: 95

      - id: perc-orientation-1
        item: "1.3.4 Orientation (AA): Content not restricted to single orientation"
        required: true
        resources: [orientation-support.yaml]
        passing_score: 90

      - id: perc-input-purpose-1
        item: "1.3.5 Identify Input Purpose (AA): Input purpose programmatically determined"
        required: true
        resources: [autocomplete-standards.yaml]
        passing_score: 90

      - id: perc-color-1
        item: "1.4.1 Use of Color (A): Color not sole means of conveying information"
        required: true
        resources: [color-independence.yaml]
        passing_score: 100

      - id: perc-audio-control-1
        item: "1.4.2 Audio Control (A): Mechanism to pause/stop auto-playing audio"
        required: true
        resources: [audio-control.yaml]
        passing_score: 100

      - id: perc-contrast-1
        item: "1.4.3 Contrast (AA): 4.5:1 contrast ratio for normal text"
        required: true
        resources: [contrast-requirements.yaml]
        passing_score: 100

      - id: perc-resize-1
        item: "1.4.4 Resize Text (AA): Text resizable to 200% without loss"
        required: true
        resources: [text-scaling.yaml]
        passing_score: 95

      - id: perc-images-text-1
        item: "1.4.5 Images of Text (AA): Avoid images of text unless essential"
        required: true
        resources: [text-vs-images.yaml]
        passing_score: 90

      - id: perc-reflow-1
        item: "1.4.10 Reflow (AA): Content reflows at 320px width"
        required: true
        resources: [responsive-design.yaml]
        passing_score: 95

      - id: perc-non-text-1
        item: "1.4.11 Non-text Contrast (AA): 3:1 contrast for UI components/graphics"
        required: true
        resources: [ui-contrast.yaml]
        passing_score: 95

      - id: perc-text-spacing-1
        item: "1.4.12 Text Spacing (AA): No loss with increased text spacing"
        required: true
        resources: [text-spacing.yaml]
        passing_score: 90

      - id: perc-content-hover-1
        item: "1.4.13 Content on Hover/Focus (AA): Dismissible, hoverable, persistent"
        required: true
        resources: [hover-focus-content.yaml]
        passing_score: 90

  - category: "Principle 2: Operable - Interface must be operable"
    criteria:
      - id: oper-keyboard-1
        item: "2.1.1 Keyboard (A): All functionality available via keyboard"
        required: true
        resources: [keyboard-access.yaml]
        passing_score: 100

      - id: oper-no-trap-1
        item: "2.1.2 No Keyboard Trap (A): Keyboard focus not trapped"
        required: true
        resources: [focus-management.yaml]
        passing_score: 100

      - id: oper-shortcuts-1
        item: "2.1.4 Character Key Shortcuts (A): Can turn off/remap shortcuts"
        required: true
        resources: [keyboard-shortcuts.yaml]
        passing_score: 90

      - id: oper-timing-1
        item: "2.2.1 Timing Adjustable (A): Time limits can be adjusted/extended"
        required: true
        resources: [timing-controls.yaml]
        passing_score: 95

      - id: oper-pause-1
        item: "2.2.2 Pause, Stop, Hide (A): Control for moving/blinking content"
        required: true
        resources: [animation-control.yaml]
        passing_score: 100

      - id: oper-seizures-1
        item: "2.3.1 Three Flashes (A): No content flashes >3 times per second"
        required: true
        resources: [seizure-prevention.yaml]
        passing_score: 100

      - id: oper-bypass-1
        item: "2.4.1 Bypass Blocks (A): Skip navigation mechanisms"
        required: true
        resources: [skip-links.yaml]
        passing_score: 95

      - id: oper-page-titled-1
        item: "2.4.2 Page Titled (A): Pages have descriptive titles"
        required: true
        resources: [page-titles.yaml]
        passing_score: 100

      - id: oper-focus-order-1
        item: "2.4.3 Focus Order (A): Logical focus order preserved"
        required: true
        resources: [focus-order.yaml]
        passing_score: 100

      - id: oper-link-purpose-1
        item: "2.4.4 Link Purpose (A): Link purpose clear from text/context"
        required: true
        resources: [link-text.yaml]
        passing_score: 95

      - id: oper-multiple-ways-1
        item: "2.4.5 Multiple Ways (AA): Multiple ways to find pages"
        required: true
        resources: [navigation-methods.yaml]
        passing_score: 90

      - id: oper-headings-1
        item: "2.4.6 Headings and Labels (AA): Descriptive headings/labels"
        required: true
        resources: [heading-structure.yaml]
        passing_score: 95

      - id: oper-focus-visible-1
        item: "2.4.7 Focus Visible (AA): Keyboard focus indicator visible"
        required: true
        resources: [focus-indicators.yaml]
        passing_score: 100

      - id: oper-pointer-cancel-1
        item: "2.5.1 Pointer Gestures (A): No multipoint/path-based gestures required"
        required: true
        resources: [gesture-alternatives.yaml]
        passing_score: 95

      - id: oper-pointer-cancellation-1
        item: "2.5.2 Pointer Cancellation (A): No down-event activation"
        required: true
        resources: [pointer-events.yaml]
        passing_score: 90

      - id: oper-label-name-1
        item: "2.5.3 Label in Name (A): Accessible name contains visible label"
        required: true
        resources: [label-naming.yaml]
        passing_score: 95

      - id: oper-motion-1
        item: "2.5.4 Motion Actuation (A): Motion-based features have alternatives"
        required: true
        resources: [motion-alternatives.yaml]
        passing_score: 90

  - category: "Principle 3: Understandable - Information must be understandable"
    criteria:
      - id: under-lang-page-1
        item: "3.1.1 Language of Page (A): Default language programmatically determined"
        required: true
        resources: [language-declaration.yaml]
        passing_score: 100

      - id: under-lang-parts-1
        item: "3.1.2 Language of Parts (AA): Language changes marked up"
        required: true
        resources: [multilingual-markup.yaml]
        passing_score: 95

      - id: under-focus-1
        item: "3.2.1 On Focus (A): No context change on focus"
        required: true
        resources: [focus-behavior.yaml]
        passing_score: 100

      - id: under-input-1
        item: "3.2.2 On Input (A): No context change on input"
        required: true
        resources: [input-behavior.yaml]
        passing_score: 100

      - id: under-navigation-1
        item: "3.2.3 Consistent Navigation (AA): Navigation consistent across pages"
        required: true
        resources: [consistent-navigation.yaml]
        passing_score: 95

      - id: under-identification-1
        item: "3.2.4 Consistent Identification (AA): Components identified consistently"
        required: true
        resources: [consistent-ui.yaml]
        passing_score: 95

      - id: under-error-id-1
        item: "3.3.1 Error Identification (A): Errors identified and described"
        required: true
        resources: [error-messages.yaml]
        passing_score: 100

      - id: under-labels-1
        item: "3.3.2 Labels or Instructions (A): Labels/instructions for input"
        required: true
        resources: [form-labels.yaml]
        passing_score: 100

      - id: under-error-suggest-1
        item: "3.3.3 Error Suggestion (AA): Suggestions for fixing errors"
        required: true
        resources: [error-recovery.yaml]
        passing_score: 95

      - id: under-error-prevent-1
        item: "3.3.4 Error Prevention (AA): Confirmation for legal/financial/data"
        required: true
        resources: [error-prevention.yaml]
        passing_score: 95

  - category: "Principle 4: Robust - Content must be robust for assistive tech"
    criteria:
      - id: robust-parsing-1
        item: "4.1.1 Parsing (A): Valid, well-formed markup"
        required: true
        resources: [html-validation.yaml]
        passing_score: 95

      - id: robust-name-role-1
        item: "4.1.2 Name, Role, Value (A): ARIA attributes complete"
        required: true
        resources: [aria-implementation.yaml]
        passing_score: 100

      - id: robust-status-1
        item: "4.1.3 Status Messages (AA): Status messages programmatically determined"
        required: true
        resources: [status-messages.yaml]
        passing_score: 95

  - category: Canvas-Specific Accessibility
    criteria:
      - id: canvas-editor-1
        item: Rich Content Editor accessibility features used correctly
        required: true
        resources: [canvas-editor-a11y.yaml]
        passing_score: 95

      - id: canvas-files-1
        item: Uploaded files have accessibility features (alt text, captions)
        required: true
        resources: [file-accessibility.yaml]
        passing_score: 90

      - id: canvas-ally-1
        item: Ally accessibility checker findings addressed
        required: true
        resources: [ally-integration.yaml]
        passing_score: 90

      - id: canvas-immersive-1
        item: Content compatible with Immersive Reader
        required: true
        resources: [immersive-reader.yaml]
        passing_score: 85

  - category: Assistive Technology Compatibility
    criteria:
      - id: at-screen-reader-1
        item: Content fully accessible with screen readers (JAWS, NVDA, VoiceOver)
        required: true
        resources: [screen-reader-testing.yaml]
        passing_score: 95

      - id: at-zoom-1
        item: Content usable with screen magnification
        required: true
        resources: [magnification-testing.yaml]
        passing_score: 90

      - id: at-voice-1
        item: Content usable with voice control (Dragon, Voice Control)
        required: true
        resources: [voice-control-testing.yaml]
        passing_score: 85

scoring:
  excellent: 95-100
  good: 85-94
  acceptable: 75-84
  needs_improvement: 60-74
  unacceptable: <60

validation_workflow:
  - step: Run automated accessibility checker (Ally, axe, WAVE)
  - step: Validate WCAG 2.1 Level A criteria
  - step: Validate WCAG 2.1 Level AA criteria
  - step: Test with assistive technologies
  - step: Review Canvas-specific accessibility
  - step: Manual review of complex components
  - step: Generate accessibility compliance report

canvas_integration:
  - location: all_course_content
  - validation: ally_accessibility_checker
  - validation: automated_wcag_scan
  - tools: accessibility_checker
  - tools: color_contrast_analyzer
  - tools: heading_structure_validator
  - reporting: accessibility_score
  - reporting: issue_prioritization
  - remediation: alternative_formats
  - remediation: caption_generation
